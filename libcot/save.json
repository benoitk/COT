{
    "name" : "toc",
    "fr_FR" : "COT",
    "en_US" : "TOC",
    "version":"0.0.0",

   
    "extensions" : [
        {"name" : "measure_card_1","fr_FR" : "Carte measure 1", "en_US" : "Measure card 1",
            "com" : {"name":"com_jbus_tcp_master","type":"tcpip", "slave":1 , "ip":"192.168.1.2", "port":502, "debug":false},
            "organs" : [{"name":"measure_cell", "type":"input_integer", "address_data":"0x0200"},
                         
                          {"name":"relay_0", "type":"output_boolean", "address_data":"0x0120"},
                          {"name":"relay_1", "type":"output_boolean", "address_data":"0x0121"},
                          {"name":"relay_2", "type":"output_boolean", "address_data":"0x0122"},

                          {"name":"dc_engine_start", "type":"output_boolean", "address_data":"0x0130"},
                          {"name":"dc_engine_cw", "type":"output_boolean", "address_data":"0x0131"},


                          {"name":"voltage_output_0", "type":"output_boolean", "address_data":"0x0030"},
                          {"name":"voltage_output_1", "type":"output_boolean", "address_data":"0x0031"},
                          {"name":"voltage_output_2", "type":"output_boolean", "address_data":"0x0032"},
                          {"name":"voltage_output_3", "type":"output_boolean", "address_data":"0x0033"},

                          {"name":"valve_output_0", "type":"output_boolean", "address_data":"0x0110"},
                          {"name":"valve_output_1", "type":"output_boolean", "address_data":"0x0111"},
                          {"name":"valve_output_2", "type":"output_boolean", "address_data":"0x0112"},
                          {"name":"valve_output_3", "type":"output_boolean", "address_data":"0x0113"},
                          {"name":"valve_output_4", "type":"output_boolean", "address_data":"0x0114"},
                          {"name":"valve_output_5", "type":"output_boolean", "address_data":"0x0115"},
                          {"name":"valve_output_6", "type":"output_boolean", "address_data":"0x0116"},
                          {"name":"valve_output_7", "type":"output_boolean", "address_data":"0x0117"},
                          {"name":"valve_output_8", "type":"output_boolean", "address_data":"0x0118"},
                          {"name":"valve_output_9", "type":"output_boolean", "address_data":"0x0119"},
                          {"name":"valve_output_10", "type":"output_boolean", "address_data":"0x011A"},
                          {"name":"valve_output_11", "type":"output_boolean", "address_data":"0x011B"},
                          {"name":"valve_output_12", "type":"output_boolean", "address_data":"0x011C"},
                          {"name":"valve_output_13", "type":"output_boolean", "address_data":"0x011E"},
                          {"name":"valve_output_14", "type":"output_boolean", "address_data":"0x011F"},
                         
                          {"name":"adc1_0_flowmeter_0", "type":"input_float", "address_data":"0x0140"},
                          {"name":"adc1_1_flowmeter_1", "type":"input_float", "address_data":"0x0142"},
                          {"name":"adc1_2_water_sensor_0", "type":"input_float", "address_data":"0x0144"},
                          {"name":"adc1_3_water_sensor_1", "type":"input_float", "address_data":"0x0146"},
                          {"name":"adc2_0_t_peltier", "type":"input_float", "address_data":"0x0148"},
                          {"name":"adc2_1_t_cuve", "type":"input_float", "address_data":"0x014A"},
                          {"name":"adc2_2_t_elem", "type":"input_float", "address_data":"0x014C"},
                          {"name":"adc2_3_4_20_input", "type":"input_float", "address_data":"0x014E"},
                          {"name":"power_emitter", "type":"input_float", "address_data":"0x0220"},

                          {"name":"spi_dac_1", "type":"output_float", "address_data":"0x0154"},
                          {"name":"spi_dac_2", "type":"output_float", "address_data":"0x0156"},
                          
                          {"name":"regu_peltier", "type":"output_float", "address_data":"0x0216"},
                          {"name":"regu_ndir", "type":"output_float", "address_data":"0x0218"}


                        ]
        },
        {"name" : "io_card_1","fr_FR" : "Carte E/S 1", "en_US" : "I/O card 1",
            "com" : {"name":"com_jbus_tcp_master","type":"tcpip", "slave":1, "ip":"192.168.1.11", "port":502, "debug":false},
            "organs" : [{"name":"tor_input_0", "type":"input_bit", "address_data":"0x0100"},
                       {"name":"tor_input_1", "type":"input_bit", "address_data":"0x0101"},
                       {"name":"tor_input_2", "type":"input_bit", "address_data":"0x0102"},
                       {"name":"tor_output_0", "type":"output_bit", "address_data":"0x0200"},
                       {"name":"tor_output_1", "type":"output_bit", "address_data":"0x0201"},
                       {"name":"tor_output_2", "type":"output_bit", "address_data":"0x0202"},
                       {"name":"tor_output_3", "type":"output_bit", "address_data":"0x0203"},
                       {"name":"voltage_output_0", "type":"output_bit", "address_data":"0x0300"},
                       {"name":"voltage_output_1", "type":"output_bit", "address_data":"0x0301"},
                       {"name":"loop_0_20_data", "type":"output_integer", "address_data":"0x0400"},
                       {"name":"loop_0_20_status", "type":"output_integer", "address_data":"0x0403"},
                       {"name":"loop_0_20_reset", "type":"output_integer", "address_data":"0x0406"}]
        }

    ],

    "units":[{"name":"g_l", "fr_FR":"g/l"}, {"name":"mg_l", "fr_FR":"mg/l"}, {"name":"µg_l", "fr_FR":"µg/l"}, {"name":"tr_min", "fr_FR":"tr/min"},
             {"name":"deg_celsius", "fr_FR":"°C"},{"name":"mdeg_celsius", "fr_FR":"m°C"}, {"name":"deg_fahrenheit", "fr_FR":"°F"}, {"name":"kelvin", "fr_FR":"K"},
             {"name":"pts", "fr_FR":"Points"}, {"name":"ntu", "fr_FR":"NTU"}, {"name":"percent", "fr_FR":"%"}, {"name":"ml_min", "fr_FR":"mL/min"},
             {"name":"second", "fr_FR":"s"},{"name":"miliwatt", "fr_FR":"mW"},{"name":"volt", "fr_FR":"V"}
    ],

    "units_convertion":[{"source":"g_l", "target":"mg_l", "type":"coef", "coef":0.001},
                        {"source":"g_l", "target":"µg_l", "type":"coef","coef":0.0001},
                        {"source":"mg_l", "target":"g_l", "type":"coef","coef":1000},
                        {"source":"mg_l", "target":"µg_l", "type":"coef","coef":0.1},
                        {"source":"µg_l", "target":"g_l", "type":"coef","coef":10000},
                        {"source":"µg_l", "target":"mg_l", "type":"coef","coef":10},
                        {"source":"ntu", "target":"mg_l", "type":"coef","coef":10},
                        {"source":"deg_fah", "target":"deg_cel", "type":"offset_coef", "offset":-32, "coef":0.555555},
                        {"source":"deg_fah", "target":"kelvin", "type":"offset_coef", "offset":458.67, "coef":0.555555},
                        {"source":"deg_cel", "target":"deg_fah", "type":"coef_offset", "offset":32, "coef":1.8},
                        {"source":"deg_cel", "target":"kelvin", "type":"offset", "offset":273.15},
                        {"source":"deg_cel", "target":"mdeg_celsius", "type":"coef", "offset":0.001},
                        {"source":"kelvin", "target":"deg_fah", "type":"coef_offset", "offset":-458.67, "coef":1.8},
                        {"source":"kelvin", "target":"deg_cel", "type":"offset", "offset":-273.15}

    ],
    "variables" : [{"name":"measure_cot", "fr_FR" : "COT", "en_US" : "TOC", "type":"float", "value" : 2.3, "unit":"g_l", "address":"0x0100", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_cot_max", "fr_FR" : "Mesure max", "en_US" : "Max measure", "type":"float", "value" : 10, "unit":"mg_l", "address":"0x0106", "access":"read_write", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_cot_min", "fr_FR" : "Mesure min", "en_US" : "Min measure", "type":"float", "value" : 0, "unit":"mg_l"},
                   
                    {"name":"ndir_measure_cell", "fr_FR" : "Cellule NDIR", "type":"input_integer","extension_name":"measure_card_1", "organ_name":"measure_cell", "value" : 0, "unit":"pts", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"zero_cit", "fr_FR" : "Zéro CIT", "type":"integer", "value" : 0, "unit":"pts", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_cit", "fr_FR" : "Mesure CIT", "type":"float", "value" : 0, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_cit_min", "fr_FR" : "Mesure CIT", "type":"float", "value" : 0, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_cit_max", "fr_FR" : "Mesure CIT", "type":"float", "value" : 100, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_volume", "fr_FR" : "Volume réacteur", "type":"float", "value" : 25, "unit":"mL", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_coef_1", "fr_FR" : "Coef calib Co2 ppmv 1", "type":"float", "value" : 3633.2, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_coef_2", "fr_FR" : "Coef calib Co2 ppmv 2", "type":"float", "value" : 8077.6, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_coef_3", "fr_FR" : "Coef calib Co2 ppmv 3", "type":"float", "value" : 6445.5, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_coef_4", "fr_FR" : "Coef calib Co2 ppmv 4", "type":"float", "value" : 48.018, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_coef_5", "fr_FR" : "Coef calib Co2 ppmv 5", "type":"float", "value" : 1172.8, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"calcul_cot_offset", "fr_FR" : "Offset calib Co2 ppmv", "type":"float", "value" : -2.73, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"co2_ppmv_to_co2_gm3_cst", "fr_FR" : "Constante conversion Co2(ppmv)/Co2(g/m3)", "type":"float", "value" : 0.00183333, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"acquisition_measure_cit_timeout", "fr_FR" : "Temps d'acquisition", "type":"integer", "value" : 300, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    
                    {"name":"zero_npoc", "fr_FR" : "Zéro CIT", "type":"integer", "value" : 0, "unit":"pts", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_npoc", "fr_FR" : "Mesure NPOC", "type":"float", "value" : 0, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_npoc_min", "fr_FR" : "Mesure CIT", "type":"float", "value" : 0, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"measure_npoc_max", "fr_FR" : "Mesure CIT", "type":"float", "value" : 100, "unit":"mg_l", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"acquisition_measure_npoc_timeout", "fr_FR" : "Temps d'acquisition", "type":"integer", "value" : 300, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    

                    {"name":"airflow_setpoint", "fr_FR" : "Consigne débit d'air", "type":"output_float", "extension_name":"measure_card_1", "organ_name":"spi_dac_1", "value" : 300, "unit":"ml_min", "address":"0x0102", "access":"read_write", "com_name":"com_jbus_rs_slave"},
                    {"name":"airflow", "fr_FR" : "Débit d'air", "type":"input_float", "extension_name":"measure_card_1", "organ_name":"adc1_0_flowmeter_0", "value" : 0, "unit":"ml_min", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"airflow_default", "fr_FR" : "Défaut débit d'air", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"airflow_control_needed", "fr_FR" : "Débit d'air bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"airflow_error_margin", "fr_FR" : "Marge d'erreur débit d'air", "type":"float", "value" : 1, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"airflow_control_timeout", "fr_FR" : "Temps stabilisation débit d'air", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                   
                    {"name":"ndir_temperature_setpoint", "fr_FR" : "Consigne température NDIR", "type":"output_float", "extension_name":"measure_card_1", "organ_name":"regu_ndir", "value" : 40, "unit":"deg_cel", "address":"0x0102", "access":"read_write", "com_name":"com_jbus_rs_slave"},
                    {"name":"ndir_temperature", "fr_FR" : "Température NDIR", "type":"input_float","extension_name":"measure_card_1", "organ_name":"adc2_1_t_cuve", "value" : 0, "unit":"deg_celsius", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"ndir_temperature_default", "fr_FR" : "Défaut température NDIR", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"ndir_temperature_control_needed", "fr_FR" : "Régulation température NDIR bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"ndir_temperature_error_margin", "fr_FR" : "Marge d'erreur régulation température NDIR", "type":"float", "value" : 5, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"ndir_temperature_control_timeout", "fr_FR" : "Temps stabilisation régulation température NDIR", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    
                    {"name":"condenser_temperature_setpoint", "fr_FR" : "Consigne température condenseur", "type":"output_float", "extension_name":"measure_card_1", "organ_name":"regu_peltier", "value" : 8, "unit":"deg_cel", "address":"0x0102", "access":"read_write", "com_name":"com_jbus_rs_slave"},
                    {"name":"condenser_temperature", "fr_FR" : "Température condenseur", "type":"input_float","extension_name":"measure_card_1", "organ_name":"adc2_0_t_peltier", "value" : 0, "unit":"deg_celsius", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"condenser_temperature_default", "fr_FR" : "Défaut température condenseur", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"condenser_temperature_control_needed", "fr_FR" : "Régulation température condenseur bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"condenser_temperature_error_margin", "fr_FR" : "Marge d'erreur régulation température condenseur", "type":"float", "value" : 10, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"condenser_temperature_control_timeout", "fr_FR" : "Temps stabilisation régulation température condenseur", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    
                    {"name":"reactor_temperature_setpoint", "fr_FR" : "Consigne température réacteur", "type":"float", "value" : 45, "unit":"deg_cel", "address":"0x0102", "access":"read_write", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_temperature", "fr_FR" : "Température réacteur", "type":"input_float","extension_name":"measure_card_1", "organ_name":"adc2_2_t_elem", "value" : 0, "unit":"deg_celsius", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_temperature_default", "fr_FR" : "Défaut température réacteur", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_temperature_control_needed", "fr_FR" : "Régulation température réacteur bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_temperature_error_margin", "fr_FR" : "Marge d'erreur régulation température réacteur", "type":"float", "value" : 0, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"reactor_temperature_control_timeout", "fr_FR" : "Temps stabilisation régulation température réacteur", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    
                    {"name":"emitter_power_setpoint", "fr_FR" : "Consigne puissance émetteur", "type":"float", "value" : 550, "unit":"miliwatt", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"emitter_power", "fr_FR" : "Puissance émetteur", "type":"input_float","extension_name":"measure_card_1", "organ_name":"power_emitter", "value" : 0, "unit":"miliwatt", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"emitter_power_default", "fr_FR" : "Défaut puissance émetteur", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"emitter_power_control_needed", "fr_FR" : "Puissance émetteur insufisante bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"emitter_power_error_margin", "fr_FR" : "Marge d'erreur puissance émetteur", "type":"float", "value" : 10, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"emitter_power_control_timeout", "fr_FR" : "Temps stabilisation puissance émetteur", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    
                    {"name":"water_pressure_setpoint", "fr_FR" : "Consigne défaut eau", "type":"float", "value" : 550, "unit":"volt", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"water_pressure", "fr_FR" : "Pression d'eau", "type":"input_float","extension_name":"measure_card_1", "organ_name":"adc1_2_water_sensor_0", "value" : 0, "unit":"volt", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"water_pressure_default", "fr_FR" : "Défaut eau", "type":"boolean", "value" : false, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"water_pressure_control_needed", "fr_FR" : "Défaut eau bloquant", "type":"boolean", "value" : true, "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"water_pressure_error_margin", "fr_FR" : "Marge d'erreur défaut eau", "type":"float", "value" : 10, "unit":"percent", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    {"name":"water_pressure_control_timeout", "fr_FR" : "Temps stabilisation défaut eau", "type":"integer", "value" : 10, "unit":"second", "address":"0x0102", "access":"read", "com_name":"com_jbus_rs_slave"},
                    

                    {"name":"ev_sample", "fr_FR" : "EV échantillon", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"valve_output_0", "passive":true
                    },
                    {"name":"ev_reatcor_filling", "fr_FR" : "EV remplissage réacteur", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"valve_output_1", "passive":true
                    },
                    {"name":"ev_sample_inerting", "fr_FR" : "EV inertage échantillon", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"valve_output_2", "passive":true
                    },
                    {"name":"ev_air_direct", "fr_FR" : "EV air direct", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"valve_output_3", "passive":true
                    },
                    {"name":"ev_emptying", "fr_FR" : "EV vidange", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"valve_output_5", "passive":true
                    },  
                    {"name":"compressor_output", "fr_FR" : "Commande compresseur", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"voltage_output_2", "passive":true
                    },
                    {"name":"heater_reactor", "fr_FR" : "Commande compresseur", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"voltage_output_1", "passive":true
                    },
                    {"name":"uv_lamp_output", "fr_FR" : "Commande compresseur", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"voltage_output_0", "passive":true
                    },

                    {"name":"pump_sample", "fr_FR" : "Commande pompe échantillon", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"dc_engine_start", "passive":true
                    },
                    {"name":"pump_sample_clockwise", "fr_FR" : "Pompe échantillon sens anti-trigo", "type":"output_boolean", "access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"dc_engine_cw", "passive":true
                    },
                    {"name":"pump_sample_timeout", "fr_FR" : "Temps d'alimentation pompe échantillon", "type":"integer", "value" : 15, "unit":"second", "access":"read_write"},

                  
                    {"name":"test_relay_1", "fr_FR" : "Relais CM 1", "en_US" : "Relay 1", "type":"output_boolean", "access":"read_write",
                            "value" : true, "extension_name":"measure_card_1", "organ_name":"relay_0", "passive":false
                    },
                    {"name":"test_relay_2", "fr_FR" : "Relais CM 2", "en_US" : "Relay 2", "type":"output_boolean","access":"read_write",
                            "value" : false, "extension_name":"measure_card_1", "organ_name":"relay_1", "passive":false
                    },
                    {"name":"test_relay_3", "fr_FR" : "Relais CM 3", "en_US" : "Relay 3", "type":"output_boolean","access":"read_write",
                            "value" : true, "extension_name":"measure_card_1", "organ_name":"relay_2", "passive":false
                    },

                    {"name":"test_tor_1", "fr_FR" : "Relais I/O 1", "en_US" : "Relay 1", "type":"output_boolean", "access":"read_write",
                            "value" : true, "extension_name":"io_card_1", "organ_name":"tor_output_0", "passive":false
                    },
                    {"name":"test_tor_2", "fr_FR" : "Relais I/O 2", "en_US" : "Relay 2", "type":"output_boolean","access":"read_write",
                            "value" : false, "extension_name":"io_card_1", "organ_name":"tor_output_1", "passive":false
                    },
                    {"name":"test_tor_3", "fr_FR" : "Relais I/O 3", "en_US" : "Relay 3", "type":"output_boolean","access":"read_write",
                            "value" : true, "extension_name":"io_card_1", "organ_name":"tor_output_2", "passive":false
                    },


                    {"name":"pump_persulfate", "fr_FR" : "Pompe persulfate", "en_US" : "Persulfate pump", "type":"output_list_variables",
                        "variables": [  {"name":"num_tour_pump", "fr_FR" : "Nombre de tour", "en_US" : "Tour number", "type":"integer", "value" : 4, "unit":"tr_min"},
                                        {"name":"speed_pump", "fr_FR" : "Vitesse", "en_US" : "Speed pump", "type":"integer", "value" : 30, "unit":"tr_min"},
                                        {"name":"direction_clockwise_pump", "fr_FR" : "Pompe en sens anti-trigo", "en_US" : "Pump set to clockwise", "type":"boolean", "value" : true, "unit":"tr_min"},
                                        {"name":"step_by_step_pump", "fr_FR" : "Pompe en pas à pas", "en_US" : "Pump set to step by step", "type":"boolean", "value" : true, "unit":"tr_min"},
                                        {"name":"cmd_continus_pump", "fr_FR" : "Pompe alimenté au repos", "en_US" : "Pump always powered", "type":"boolean", "value" : true, "unit":"tr_min"}]

                    },

                    {"name":"stream_1_state", "fr_FR" : "Etat analyseur", "type":"boolean", "value" : true, "unit":"tr_min"}

    ],

    "display":[
        {"name":"diagnostic", "variables":["airflow", "ndir_temperature", "condenser_temperature", "reactor_temperature","emitter_power"]},
        {"name":"elec_tests", "map_tabs":[{"name":"tab_EV", "variables":["ev_sample", "ev_air_direct", "ev_sample_inerting", "ev_reatcor_filling", "pump_sample", "pump_sample_clockwise"]},
                     {"name":"tab_Actionneurs", "variables":["test_relay_1", "test_relay_2", "test_relay_3", "test_tor_1", "test_tor_2", "test_tor_3"]},
                     {"name":"tab_entrees", "variables":["selection_stream1", "arret_fin_cycle"]},
                     {"name":"tab_pump", "variables":["pump_persulfate"]},
                     {"name":"tab_selecteur","variables":[],"pump":"pump_persulfate"  }
        ]},
        {"name":"options" , "variables":["ndir_temperature_setpoint", "reactor_temperature_setpoint", "condenser_temperature_setpoint", "airflow_setpoint"]},
        {"name":"history", "variables":["measure_cot"]},
        {"name":"alarms", "variables":["airflow_default","ndir_temperature_default","reactor_temperature_default","condenseur_temperature_default"]}

    ],

    "binds" : [
        {"source":"measure_cot", "target":"loop_4_20"}

    ],

    "actions" : [
                
                {
                    "name" : "bloc_rincage", "type" : "block",
                    "fr_FR" : "Rinçage en cours",
                    "en_US" : "Cleaning in progress",
                    "steps" : [{"step":1, "actions":["ev_air_direct_open"] }, {"step":2, "actions":["ev_air_direct_close"] }]
                },
                {   "name" : "uv_lamp_on", "type" : "cmd_digital_output",
                    "fr_FR" : "Lampe UV ON",
                    "target" : "uv_lamp_output", "state" : true
                },
                {   "name" : "uv_lamp_off", "type" : "cmd_digital_output",
                    "fr_FR" : "Lampe UV OFF",
                    "target" : "uv_lamp_output", "state" : false
                },
                {   "name" : "compressor_on", "type" : "cmd_digital_output",
                    "fr_FR" : "Compresseur ON", "en_US" : "Compressor ON",
                    "target" : "compressor_output", "state" : true
                },
                {   "name" : "compressor_off", "type" : "cmd_digital_output",
                    "fr_FR" : "Compresseur OFF", "en_US" : "Compressor OFF",
                    "target" : "compressor_output", "state" : false
                },
                {   "name" : "ev_air_direct_open", "type" : "cmd_digital_output",
                    "fr_FR" : "Ouverture EV air direct",
                    "target" : "ev_air_direct", "state" : true
                },
                {   "name" : "ev_air_direct_close", "type" : "cmd_digital_output",
                    "fr_FR" : "Fermeture EV air direct",
                    "target" : "ev_air_direct", "state" : false
                },
                {   "name" : "ev_sample_open", "type" : "cmd_digital_output",
                    "fr_FR" : "Ouverture EV échantillon",
                    "target" : "ev_sample", "state" : true
                },
                {   "name" : "ev_sample_close", "type" : "cmd_digital_output",
                    "fr_FR" : "Fermeture EV échantillon",
                    "target" : "ev_sample", "state" : false
                },
                {   "name" : "ev_emptying_open", "type" : "cmd_digital_output",
                    "fr_FR" : "Ouverture EV vidange",
                    "target" : "ev_emptying", "state" : true
                },
                {   "name" : "ev_emptying_close", "type" : "cmd_digital_output",
                    "fr_FR" : "Fermeture EV vidange",
                    "target" : "ev_emptying", "state" : false
                },
                {   "name" : "ev_sample_inerting_open", "type" : "cmd_digital_output",
                    "fr_FR" : "Ouverture EV inertage échantillon",
                    "target" : "ev_sample_inerting", "state" : true
                },
                {   "name" : "ev_sample_inerting_close", "type" : "cmd_digital_output",
                    "fr_FR" : "Fermeture EV inertage échantillon",
                    "target" : "ev_sample_inerting", "state" : false
                },
                {   "name" : "ev_reactor_filling_open", "type" : "cmd_digital_output",
                    "fr_FR" : "Ouverture EV remplissage réacteur",
                    "target" : "ev_reatcor_filling", "state" : true
                },
                {   "name" : "ev_reactor_filling_close", "type" : "cmd_digital_output",
                    "fr_FR" : "Fermeture EV remplissage réacteur",
                    "target" : "ev_reatcor_filling", "state" : false
                },
                {   "name" : "heater_reactor_on", "type" : "cmd_digital_output",
                    "fr_FR" : "Chauffe réacteur ON", "en_US" : "Heating reactor ON",
                    "target" : "heater_reactor", "state" : true
                },
                {   "name" : "heater_reactor_off", "type" : "cmd_digital_output",
                    "fr_FR" : "Chauffe réacteur OFF", "en_US" : "Heating reactor OFF",
                    "target" : "heater_reactor", "state" : false
                },
                {   "name" : "pump_sample_on", "type" : "cmd_dc_engine",
                    "fr_FR" : "Commande pompe échantillon",
                    "target" : "pump_sample", "timeout" : "pump_sample_timeout", "clockwise" : "pump_sample_clockwise"
                },
                {   "name" : "set_airflow_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne débit d'air",
                    "target" : "airflow_setpoint"
                },
                {   "name" : "control_air_flow", "type" : "test",
                    "fr_FR" : "Test débit d'air", "en_US" : "Air flow control",
                    "setpoint" : "airflow_setpoint",
                    "target" : "airflow",
                    "result" : "airflow_default",
                    "waiting" : "airflow_control_needed", 
                    "condition" : "target_equal_to_setpoint",
                    "critical_error" : true,
                    "error_margin" : "airflow_error_margin", 
                    "timeout" : "airflow_control_timeout" 
                },
                {   "name" : "set_ndir_temperature_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne température NDIR",
                    "target" : "ndir_temperature_setpoint"
                },
                {   "name" : "control_temperature_ndir", "type" : "test",
                    "fr_FR" : "Control température NDIR", "en_US" : "NDIR température control",
                    "setpoint" : "ndir_temperature_setpoint",
                    "target" : "ndir_temperature",
                    "result" : "ndir_temperature_default",
                    "waiting" : "ndir_temperature_control_needed", 
                    "condition" : "target_equal_to_setpoint",
                    "critical_error" : false,
                    "error_margin" : "ndir_temperature_error_margin", 
                    "timeout" : "ndir_temperature_control_timeout" 
                },
                {   "name" : "set_condenser_temperature_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne température condenseur",
                    "target" : "condenser_temperature_setpoint"
                },
                {   "name" : "control_temperature_condenser", "type" : "test",
                    "fr_FR" : "Control température condenseur", "en_US" : "Condenseur température control",
                    "setpoint" : "condenser_temperature_setpoint",
                    "target" : "condenser_temperature",
                    "result" : "condenser_temperature_default",
                    "waiting" : "condenser_temperature_control_needed", 
                    "condition" : "target_equal_to_setpoint",
                    "critical_error" : false,
                    "error_margin" : "condenser_temperature_error_margin", 
                    "timeout" : "condenser_temperature_control_timeout" 
                },
                {   "name" : "set_reactor_temperature_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne température réacteur",
                    "target" : "reactor_temperature_setpoint"
                },
                {   "name" : "control_temperature_reactor", "type" : "test",
                    "fr_FR" : "Control température réacteur", "en_US" : "Reactor température control",
                    "setpoint" : "reactor_temperature_setpoint",
                    "target" : "reactor_temperature",
                    "result" : "reactor_temperature_default",
                    "waiting" : "reactor_temperature_control_needed", 
                    "condition" : "target_superior_to_setpoint",
                    "critical_error" : false,
                    "error_margin" : "reactor_temperature_error_margin", 
                    "timeout" : "reactor_temperature_control_timeout" 
                },
                {   "name" : "set_emitter_power_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne puissance émetteur",
                    "target" : "emitter_power_setpoint"
                },
                {   "name" : "control_power_emitter", "type" : "test",
                    "fr_FR" : "Control puissance émetteur", "en_US" : "Emitter control",
                    "setpoint" : "emitter_power_setpoint",
                    "target" : "emitter_power",
                    "result" : "emitter_power_default",
                    "waiting" : "emitter_power_control_needed", 
                    "condition" : "target_equal_to_setpoint",
                    "critical_error" : false,
                    "error_margin" : "emitter_power_error_margin",
                    "timeout" : "emitter_power_control_timeout" 
                },
                {   "name" : "set_water_pressure_setpoint", "type" : "rewrite_output",
                    "fr_FR" : "Initialisation consiggne pression d'eau",
                    "target" : "water_pressure_setpoint"
                },
                {   "name" : "control_water_default", "type" : "test",
                    "fr_FR" : "Control défaut d'eau",
                    "setpoint" : "water_pressure_setpoint",
                    "target" : "water_pressure",
                    "result" : "water_pressure_default",
                    "waiting" : "water_pressure_control_needed", 
                    "condition" : "target_equal_to_setpoint",
                    "critical_error" : false,
                    "error_margin" : "water_pressure_error_margin",
                    "timeout" : "water_pressure_control_timeout" 
                },
                {   "name" : "acquisition_measure_cit", "type" : "acquisition_cit_npoc",
                    "fr_FR" : "Mesure du CIT",
                    "cellule" : "ndir_measure_cell",
                    "result" : "measure_cit",
                    "zero_point" : "zero_cit",
                    "debit_airflow" : "airflow",
                    "vessel_volume" : "reactor_volume",
                    "coef_1" : "calcul_cot_coef_1",
                    "coef_2" : "calcul_cot_coef_2",
                    "coef_3" : "calcul_cot_coef_3",
                    "coef_4" : "calcul_cot_coef_4",
                    "coef_5" : "calcul_cot_coef_5",
                    "offset" : "calcul_cot_offset",
                    "co2_ppmv_to_co2_gm3_cst" : "co2_ppmv_to_co2_gm3_cst",
                    "critical_error" : false,
        
                    "timeout" : "acquisition_measure_cit_timeout" 
                },
                {   "name" : "acquisition_measure_npoc", "type" : "acquisition_cit_npoc",
                    "fr_FR" : "Mesure du NPOC",
                    "cellule" : "ndir_measure_cell",
                    "result" : "measure_npoc",
                    "zero_point" : "zero_npoc",
                    "debit_airflow" : "airflow",
                    "vessel_volume" : "reactor_volume",
                    "coef_1" : "calcul_cot_coef_1",
                    "coef_2" : "calcul_cot_coef_2",
                    "coef_3" : "calcul_cot_coef_3",
                    "coef_4" : "calcul_cot_coef_4",
                    "coef_5" : "calcul_cot_coef_5",
                    "offset" : "calcul_cot_offset",
                    "co2_ppmv_to_co2_gm3_cst" : "co2_ppmv_to_co2_gm3_cst",
                    "critical_error" : false,
        
                    "timeout" : "acquisition_measure_npoc_timeout" 
                }

    ],

    "cycles" : [
         {
            "name" : "cycle_control",
            "fr_FR" : "Cycle de control au démarage",
            "en_US" : "Control cycle",
            "type" : "measure",
            "steps" : [{"name":"step_1", "step":1,"fr_FR":"Initialisation cycle de control",
                        "actions":["compressor_on", "ev_air_direct_close",  "heater_reactor_on"]}, 
                       {"name":"step_2", "step":2,"fr_FR":"Control débit d'air", "actions":["control_air_flow"]},
                       {"name":"step_3", "step":3,"fr_FR":"Control T° NDIR", "actions":["control_temperature_ndir"]},
                       {"name":"step_4", "step":4,"fr_FR":"Control T° condenseur", "actions":["control_temperature_condenser"]},
                       {"name":"step_5", "step":5,"fr_FR":"Control T° Reacteur", "actions":["control_temperature_reactor"]},
                       {"name":"step_6", "step":6,"fr_FR":"Control puissance emetteur", "actions":["control_power_emitter"]}

                    ]
        },
        {
            "name" : "cycle_mesure_cot",
            "fr_FR" : "Mesure de COT",
            "type" : "measure",
            "steps" : [{"name":"step_1", "step":1,"fr_FR":"Ouverture EV échantillon", "actions":["ev_sample_open", "control_water_default"]}, 
                      {"name":"step_2", "step":2,"fr_FR":"Remplissage réacteur", "actions":["ev_sample_close", "ev_reactor_filling_open"]},
                      {"name":"step_3", "step":3,"fr_FR":"Control T° NDIR", "actions":["control_temperature_ndir"]},
                      {"name":"step_4", "step":4,"fr_FR":"Control T° condenseur", "actions":["control_temperature_condenser"]},
                      {"name":"step_5", "step":5,"fr_FR":"Control T° Reacteur>40°", "actions":["control_temperature_reactor"]},
                      {"name":"step_6", "step":6,"fr_FR":"Mesure CIT", "actions":["acquisition_measure_cit", "ev_sample_inerting_open", "pump_sample_on"]},
                      {"name":"step_7", "step":7,"fr_FR":"Fin mesure CIT", "actions":["ev_sample_inerting_close", "ev_reactor_filling_close"]},
                      {"name":"step_8", "step":8,"fr_FR":"Mesure NPOC", "actions":["acquisition_measure_npoc", "uv_lamp_on"]},
                      {"name":"step_9", "step":9,"fr_FR":"Fin mesure NPOC", "actions":["uv_lamp_off", "ev_emptying_open"]},
                      {"name":"step_10", "step":39,"fr_FR":"Fin mesure COT", "actions":["ev_emptying_close"]}
                      ]
        },
        {
            "name" : "cycle_maintenance_cot",
            "fr_FR" : "Mesure de COT",
            "type" : "maintenance",
            "steps" : [{"name":"step_1", "step":1,"fr_FR":"Ouverture EV échantillon", "actions":["ev_sample_open", "control_water_default"]}, 
                      {"name":"step_2", "step":2,"fr_FR":"Remplissage réacteur", "actions":["ev_sample_close", "ev_reactor_filling_open"]},
                      {"name":"step_3", "step":3,"fr_FR":"Control T° NDIR", "actions":["control_temperature_ndir"]},
                      {"name":"step_4", "step":4,"fr_FR":"Control T° condenseur", "actions":["control_temperature_condenser"]},
                      {"name":"step_5", "step":5,"fr_FR":"Control T° Reacteur>40°", "actions":["control_temperature_reactor"]},
                      {"name":"step_6", "step":6,"fr_FR":"Mesure CIT", "actions":["acquisition_measure_cit", "ev_sample_inerting_open"]},
                      {"name":"step_7", "step":7,"fr_FR":"Fin mesure CIT", "actions":["ev_sample_inerting_close", "ev_reactor_filling_close"]},
                      {"name":"step_8", "step":8,"fr_FR":"Mesure NPOC", "actions":["acquisition_measure_npoc", "uv_lamp_on"]},
                      {"name":"step_9", "step":9,"fr_FR":"Fin mesure NPOC", "actions":["uv_lamp_off", "ev_emptying_open"]},
                      {"name":"step_10", "step":39,"fr_FR":"Fin mesure COT", "actions":["ev_emptying_close"]}
                      ]
        },
        {
            "name" : "cycle_io",
            "fr_FR" : "gestion des E/S",
            "en_US" : "I/O management",
            "type" : "autonome",
            "steps" : [{"name":"step_2", "step":3,"fr_FR":"Init", "actions":["bloc_rincage"]}, {"name":"step_3","fr_FR":"pas 4", "step":4, "actions":["close_sample_solenoide","4_tour_pompe_persulfate"]}, {"step":6,"fr_FR":"pas 6", "actions":["close_sample_solenoide","close_emptying_solenoide"]}, {"step":12,"fr_FR":"pas 12", "actions":["4_tour_pompe_persulfate"]}, {"step":25,"fr_FR":"Pas 25", "actions":["close_sample_solenoide","4_tour_pompe_persulfate"]}]
        }
    ],

    "scheduler_measure" : ["cycle_control", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot", "cycle_mesure_cot"],
    "scheduler_autonome" : ["cycle_io", "nb_cycle"],
    "list_cycles_maintenaces" : ["cycle_maintenance_cot"],

    "streams" :[{"name":"stream_1", "fr_FR":"stream 1", "variables":["ndir_temperature_setpoint", "condenser_temperature_setpoint", "airflow_setpoint", "pump_sample_timeout", "pump_sample_clockwise", "pump_sample"], "active_state": "stream_1_state",
                    "measures":[{"name":"measure_1", "fr_FR":"mesure de CIT", "variable_measure":"measure_cit", "variable_range_max":"measure_cit_max" , "variable_range_min":"measure_cit_min", "variables":["zero_cit", "acquisition_measure_cit_timeout"]},
                               {"name":"measure_2", "fr_FR":"mesure du NPOC", "variable_measure":"measure_npoc", "variable_range_max":"measure_npoc_max" , "variable_range_min":"measure_npoc_min", "variables":["zero_npoc", "acquisition_measure_npoc_timeout"]}
                               ],
                    "cycles":["cycle_control", "cycle_test"]

                }
               
    ]


}
